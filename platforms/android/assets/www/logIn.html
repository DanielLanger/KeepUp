<!DOCTYPE html>
<html>
    <head>
        <title>Log In</title>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>

        <script type="text/javascript">
            var request;
            function logIn() {

                var $form = $('#logInForm');
                // let's select and cache all the fields
                var $inputs = $form.find("input, select, button, textarea");
                // serialize the data in the form
                var serializedData = $form.serialize();

                // let's disable the inputs for the duration of the ajax request
                // Note: we disable elements AFTER the form data has been serialized.
                // Disabled form elements will not be serialized.
                $inputs.prop("disabled", true);
                request = $.ajax({
                    url: "http://localhost:8000/webService.php",
                    type: "post",
                    data: {action:'logIn', logInData: serializedData}
                });
                
                // callback handler that will be called on success
                request.done(function (response, textStatus, jqXHR){
                    // log a message to the console
                    console.log("Hooray, it worked!");
                    console.log(response);
                }); 
                /*
                // callback handler that will be called on failure
                request.fail(function (jqXHR, textStatus, errorThrown){
                    // log the error to the console
                    console.error("The following error occured: " + textStatus, errorThrown);
                });

                // callback handler that will be called regardless
                // if the request failed or succeeded
                */
                request.always(function () {
                    // reenable the inputs
                    $inputs.prop("disabled", false);
                });

                // prevent default posting of form
                event.preventDefault();
            }
        </script>
    </head>
    <body>
       Welcome To The Log In Page
    </body>

    <form onsubmit="logIn()" id="logInForm">
        <fieldset>
            Username: <input type="text" name="username" required><br>
            Password: <input type="password" name="password" required>
            <input type="submit">
        </fieldset>
    </form>
</html>
